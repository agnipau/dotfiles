; vim:ft=dosini
;
; polybar config file.

; Colors loaded from ~/.Xresources.
[colors]
background  = ${xrdb:color0}
foreground  = ${xrdb:color7}

uno         = ${xrdb:color1}
due         = ${xrdb:color2}
tre         = ${xrdb:color3}
quattro     = ${xrdb:color4}
cinque      = ${xrdb:color5}
sei         = ${xrdb:color6}
sette       = ${xrdb:color7}
otto        = ${xrdb:color8}
nove        = ${xrdb:color9}
dieci       = ${xrdb:color10}
undici      = ${xrdb:color11}
dodici      = ${xrdb:color12}
tredici     = ${xrdb:color13}
quattordici = ${xrdb:color14}
quindici    = ${xrdb:color15}

; Global options.
[global/wm]
margin-top    = 0
margin-bottom = 0

; Bar in the left side.
[bar/bar-left]
monitor        = eDP-1-1
bottom         = true
fixed-center   = true
width          = 45%
height         = 40
offset-x       = 35
offset-y       = 30
background     = ${colors.background}
foreground     = ${colors.foreground}
radius         = 4.0
padding        = 0
module-margin  = 1
font-0         = Iosevka Term SS07:size=12:antialias=true:autohint=false;3
font-1         = FontAwesome:size=12:antialias=true:autohint=false;3
modules-left   = openbox_ws_good
modules-center = essid date_time pvol music mpd
locale         = it_IT.UTF-8

; Bar in the right side.
[bar/bar-right]
monitor        = eDP-1-1
bottom         = true
fixed-center   = true
width          = 23%
height         = 40
offset-x       = 1008
offset-y       = 30
background     = ${colors.background}
foreground     = ${colors.foreground}
radius         = 4.0
padding        = 0
module-margin  = 1
font-0         = Iosevka Term SS07:size=12:antialias=true:autohint=false;3
font-1         = FontAwesome:size=12:antialias=true:autohint=false;3
modules-center = down battery brightness
locale         = it_IT.UTF-8

; bar-left modules.
;; This is way better than the xworkspaces module, but you need the script.
;; And of course you can see what workspaces are active and what are inactive.
[module/openbox_ws_good]
type              = custom/script
exec              = ~/bin/polybar-workspaces 2>/dev/null
interval          = 0.1
format            = <label>
format-background = ${colors.cinque}
format-foreground = ${colors.background}
format-padding    = 3
label             = %output%

;; Show the essid.
[module/essid]
type                          = internal/network
interface                     = wlp3s0
format-connected              = <label-connected>
format-disconnected           = <label-disconnected>
label-connected               =  %essid%
label-connected-background    = ${colors.background}
label-connected-foreground    = ${colors.foreground}
label-connected-padding       = 1
label-disconnected            =  
label-disconnected-background = ${colors.background}
label-disconnected-foreground = ${colors.foreground}
label-disconnected-padding    = 1

;; Display the date and time.
[module/date_time]
type              = internal/date
interval          = 1.0
time              =  %H:%M
time-alt          =  %H:%M:%S (%a %d %b)
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
format-padding    = 1
label             = %time%
label-background  = ${colors.background}
label-foreground  = ${colors.foreground}

;; PulseAudio volume (with pulse you can set volume to over 100%).
[module/pvol]
type              = custom/script
exec              = ~/bin/pvol --current
interval          = 0.1
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
format-padding    = 1
label             = %output%
scroll-up         = ~/bin/pvol --volup 2
scroll-down       = ~/bin/pvol --voldown 2
click-left        = ~/bin/pvol --toggle
click-right       = ~/bin/pvol --cento

;; Display a music button that toggle some functions when you click on it.
[module/music]
type              = custom/script
format-text       = label
label             = " "
exec              = printf '%s' label
scroll-up         = mpc seek +5
scroll-down       = mpc seek -5
click-left        = mpc toggle || ~/bin/spotify-control --toggle
click-right       = mpc seek 0 || ~/bin/spotify-control --prev
click-middle      = mpc next   || ~/bin/spotify-control --next
format-background = ${colors.background}
format-foreground = ${colors.foreground}
format-padding    = 0

;; Display the time of the currently playing song.
[module/mpd]
type                      = internal/mpd
host                      = 127.0.0.1
port                      = 6600
format-online             = <label-time>
format-online-background  = ${colors.background}
format-online-foreground  = ${colors.foreground}
label-time                = %elapsed% / %total%
format-offline            = <label-offline>
format-offline-background = ${colors.background}
format-offline-foreground = ${colors.foreground}
label-offline             = .:.. / .:..

; bar-right modules.
;; Show the downspeed.
[module/down]
type                          = internal/network
interface                     = wlp3s0
format-connected              = <label-connected>
format-disconnected           = <label-disconnected>
label-connected               =  %downspeed%
label-connected-background    = ${colors.background}
label-connected-foreground    = ${colors.foreground}
label-connected-padding       = 1
label-disconnected            =  
label-disconnected-background = ${colors.background}
label-disconnected-foreground = ${colors.foreground}
label-disconnected-padding    = 1

;; Display battery stats.
[module/battery]
type                         = internal/battery
battery                      = BAT0
adapter                      = AC0
full-at                      = 100
format-charging              = <ramp-capacity> <label-charging>
format-charging-padding      = 1
format-discharging           = <ramp-capacity> <label-discharging>
format-discharging-padding   = 1
label-charging               =  %percentage%%
label-charging-background    = ${colors.background}
label-charging-foreground    = ${colors.foreground}
label-discharging            = %percentage%%
label-discharging-background = ${colors.background}
label-discharging-foreground = ${colors.foreground}
label-full                   =  %percentage%%
label-full-background        = ${colors.background}
label-full-foreground        = ${colors.foreground}
ramp-capacity-0              = 
ramp-capacity-0-background   = ${colors.background}
ramp-capacity-0-foreground   = ${colors.foreground}
ramp-capacity-1              = 
ramp-capacity-1-background   = ${colors.background}
ramp-capacity-1-foreground   = ${colors.foreground}
ramp-capacity-2              = 
ramp-capacity-2-background   = ${colors.background}
ramp-capacity-2-foreground   = ${colors.foreground}
ramp-capacity-3              = 
ramp-capacity-3-background   = ${colors.background}
ramp-capacity-3-foreground   = ${colors.foreground}
ramp-capacity-4              = 
ramp-capacity-4-background   = ${colors.background}
ramp-capacity-4-foreground   = ${colors.foreground}

;; xbacklight doesn't work in my laptop, so I wrote a script to do the same thing.
[module/brightness]
type              = custom/script
exec              = ~/bin/brightness --current
interval          = 0.1
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
format-padding    = 1
label             =  %output%
scroll-up         = sudo ~/bin/brightness --inc 5
scroll-down       = sudo ~/bin/brightness --dec 5
click-left        = redshift -PO 4500
click-right       = redshift -x

; Currently unused modules.
;; ALSA volume.
[module/avol]
type              = custom/script
exec              = ~/bin/avol --current
interval          = 0.1
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
format-padding    = 1
label             = %output%
scroll-up         = ~/bin/pvol --volup 2
scroll-down       = ~/bin/pvol --voldown 2
click-left        = ~/bin/pvol --toggle
click-right       = ~/bin/pvol --max
