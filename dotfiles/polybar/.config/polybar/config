; vim:ft=dosini
;
; polybar config file.

; Colors loaded from ~/.Xresources and generated by pywal.
[colors]
background = ${xrdb:color0}
foreground = ${xrdb:color7}
primary    = ${xrdb:color1}
secondary  = ${xrdb:color2}
alert      = ${xrdb:color3}
faint      = ${xrdb:color8}

; Global options.
[global/wm]
margin-top    = 0
margin-bottom = 0

; Bar at the left side.
[bar/bar-left]
monitor        = eDP-1-1
bottom         = true
fixed-center   = true
width          = 28%
height         = 40
offset-x       = 35
offset-y       = 21
background     = ${colors.background}
foreground     = ${colors.foreground}
radius         = 4.0
padding        = 3
module-margin  = 1
font-0         = Iosevka Term SS07:size=12:antialias=true:autohint=false;3
font-1         = FontAwesome:size=12:antialias=true:autohint=false;3
modules-center = wifi battery pvol brightness
locale         = it_IT.UTF-8

; Bar at the right side.
[bar/bar-right]
monitor        = eDP-1-1
bottom         = true
fixed-center   = true
width          = 19%
height         = 40
offset-x       = 1070
offset-y       = 21
background     = ${colors.background}
foreground     = ${colors.foreground}
radius         = 4.0
padding        = 3
module-margin  = 1
font-0         = Iosevka Term SS07:size=12:antialias=true:autohint=false;3
font-1         = FontAwesome:size=12:antialias=true:autohint=false;3
modules-center = date music
locale         = it_IT.UTF-8

; Quite useless in openbox*, but it works.
; If you find it useful use it.
; *you can't see what workspaces are active and what are inactive.
[module/openbox_wms]
type                      = internal/xworkspaces
pin-workspaces            = true
enable-click              = true
enable-scroll             = true
icon-0                    = uno;1
icon-1                    = due;2
icon-2                    = tre;3
icon-3                    = quattro;4
icon-4                    = cinque;5
icon-5                    = sei;6
format                    = <label-state>
label-urgent              = %icon%
label-urgent-background   = ${colors.background}
label-urgent-foreground   = ${colors.alert}
label-active              = %icon%
label-active-background   = ${colors.background}
label-active-foreground   = ${colors.foreground}
label-occupied            = %icon%
label-occupied-background = ${colors.background}
label-occupied-foreground = ${colors.foreground}
label-empty               =
label-empty-background    = ${colors.background}
label-empty-foreground    = ${colors.foreground}

; Show ssid and if you left click, it will open a terminal instance with
; wifi-menu opened.
[module/wifi]
type              = custom/script
exec              = ~/bin/show-ssid
interval          = 1
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
label             =  %output%
click-left        = st -n flt_wifi -g 50x22 -e sudo wifi-menu

; Display battery stats.
[module/battery]
type                         = internal/battery
battery                      = BAT0
adapter                      = AC0
full-at                      = 100
format-charging              = <ramp-capacity> <label-charging>
format-discharging           = <ramp-capacity> <label-discharging>
label-charging               =  %percentage%%
label-charging-background    = ${colors.background}
label-charging-foreground    = ${colors.foreground}
label-discharging            = %percentage%%
label-discharging-background = ${colors.background}
label-discharging-foreground = ${colors.foreground}
label-full                   =  %percentage%%
label-full-background        = ${colors.background}
label-full-foreground        = ${colors.foreground}
ramp-capacity-0              = 
ramp-capacity-0-background   = ${colors.background}
ramp-capacity-0-foreground   = ${colors.foreground}
ramp-capacity-1              = 
ramp-capacity-1-background   = ${colors.background}
ramp-capacity-1-foreground   = ${colors.foreground}
ramp-capacity-2              = 
ramp-capacity-2-background   = ${colors.background}
ramp-capacity-2-foreground   = ${colors.foreground}
ramp-capacity-3              = 
ramp-capacity-3-background   = ${colors.background}
ramp-capacity-3-foreground   = ${colors.foreground}
ramp-capacity-4              = 
ramp-capacity-4-background   = ${colors.background}
ramp-capacity-4-foreground   = ${colors.foreground}

; ALSA volume.
[module/avol]
type              = custom/script
exec              = ~/bin/avol --current
interval          = 0.1
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
label             = %output%
scroll-up         = ~/bin/pvol --volup 2
scroll-down       = ~/bin/pvol --voldown 2
click-left        = ~/bin/pvol --toggle
click-right       = ~/bin/pvol --max

; PulseAudio volume (with pulse you can set volume to over 100%).
[module/pvol]
type              = custom/script
exec              = ~/bin/pvol --current
interval          = 0.1
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
label             = %output%
scroll-up         = ~/bin/pvol --volup 2
scroll-down       = ~/bin/pvol --voldown 2
click-left        = ~/bin/pvol --toggle
click-right       = ~/bin/pvol --cento

; xbacklight doesn't work in my laptop, so I wrote a script to do the same thing.
[module/brightness]
type              = custom/script
exec              = ~/bin/brightness --current
interval          = 0.1
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
label             =  %output%
scroll-up         = sudo ~/bin/lum --inc 5
scroll-down       = sudo ~/bin/lum --dec 5
click-left        = redshift -PO 4500
click-right       = redshift -x

; Display the date and time.
[module/date]
type              = internal/date
interval          = 1
date              = " %a %d %b "
date-alt          = " %a %d %b "
time              =  %H:%M
time-alt          =  %H:%M:%S
format            = <label>
format-background = ${colors.background}
format-foreground = ${colors.foreground}
label             = %date% %time%
label-foreground  = ${colors.foreground}

; Display a music button that toggle some functions when you click on it.
[module/music]
type              = custom/script
format-text       = label
label             = 
exec              = printf '%s' label
scroll-up         = cmus-remote --seek +5s
scroll-down       = cmus-remote --seek -5s
click-left        = cmus-remote --pause  || ~/bin/spotify-control --toggle
click-right       = cmus-remote --prev  || ~/bin/spotify-control --prev
click-middle      = cmus-remote --next || ~/bin/spotify-control --next
format-foreground = ${colors.foreground}
