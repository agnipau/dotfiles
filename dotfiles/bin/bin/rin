#!/usr/bin/env bash
#
# Bulk renamer script.

path="$1"
prefix="$2"

cd "$path" || exit 1
tmp_dir="$(mktemp -d)"
c=0
for file in *; do
  ((c += 1))
  [[ "$file" =~ "." ]] && mv "$file" "$tmp_dir/${prefix}$c.${file##*.}"
  [[ ! "$file" =~ "." ]] && mv "$file" "$tmp_dir/${prefix}$c"
done
mv "$tmp_dir"/* .
rm -rf "$tmp_dir"
