#!/usr/bin/env bash
#
# A bash script to show the status of the workspaces.
# Requires wmctrl.

# Current workspace
# shellcheck disable=SC2063
cws="$(wmctrl -d \
      | grep '*' \
      | cut -d' ' -f1 \
      | cut -d' ' -f1)"

for i in {0..5}; do
  ws="$(wmctrl -l \
    | cut -d' ' -f3 \
    | grep -c "$i")"

  if [[ "$ws" -eq 0 ]]; then
    printf '%s\n' "unoccupied: $ws"
  elif [[ "$ws" -gt 0 ]]; then
    if [[ "$ws" -eq "$cws" ]]; then
      printf '%s\n' "current: $ws"
    else
      printf '%s\n' "occupied: $ws"
    fi
  fi
done
