#!/usr/bin/env bash
#
# Prints the state of my laptop's battery.

# shellcheck source=/dev/null
. "${HOME}/.local/share/icons-in-terminal/icons_bash.sh"

sta="$(</sys/class/power_supply/BAT0/status)"
cap="$(</sys/class/power_supply/BAT0/capacity)"

#shellcheck disable=SC2059,2154,1117
if [[ "$cap" -eq 100 ]]; then
  ico="$(printf "$fa_battery\n")"
elif [[ "$cap" -ge 75 ]]; then
  ico="$(printf "$fa_battery_3\n")"
elif [[ "$cap" -ge 50 ]]; then
  ico="$(printf "$fa_battery_2\n")"
elif [[ "$cap" -ge 25 ]]; then
  ico="$(printf "$fa_battery_1\n")"
elif [[ "$cap" -ge 0 ]]; then
  ico="$(printf "$fa_battery_0\n")"
fi

notify-send --expire-time=3000 "${ico} ${sta}: ${cap}%"
