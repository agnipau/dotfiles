#!/usr/bin/env bash
#
# Send a notification with the artist name and the title of the song played by
# cmus.

title_gre="$(cmus-remote -Q | grep '^tag title')"
title="${title_gre/'tag title '}"
artist_gre="$(cmus-remote -Q | grep '^tag artist')"
artist="${artist_gre/'tag artist '}"
album_gre="$(cmus-remote -Q | grep '^tag album')"
album="${album_gre/'tag album '}"

[[ "$album" ]] && notify-send --expire-time=3000 "$artist" "${title} Â· ${album}"
[[ -z "$album" ]] && notify-send --expire-time=3000 "$artist" "$title"
