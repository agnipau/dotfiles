#!/usr/bin/env bash
#
# Script for converting units of measurement of data storage.


[ $# -eq 0 ] && echo "==> Need data to convert (e.g. conv 45MB)" && exit 1


if [ $# -eq 1 ]; then
  if [ "$(echo $1 | rev | cut -c2)" = "i" ]; then
    ext=$(echo $1 | rev | cut -c1-3 | rev)
    val=$(echo $1 | rev | cut -d$(echo $1 | rev | cut -c3) -f2 | rev)
  elif [ "$(echo $1 | rev | cut -c2)" != "i" ]; then
    ext=$(echo $1 | rev | cut -c1-2 | rev)
    val=$(echo $1 | rev | cut -d$(echo $1 | rev | cut -c2) -f2 | rev)
  fi
elif [ $# -eq 2 ]; then
  ext=$2
  val=$1
fi


[ "$ext" = "b" ] && MB=$(echo "$val / 8 / 1024 / 1024" | bc -l)
[ "$ext" = "B" ] && MB=$(echo "$val / 1024 / 1024" | bc -l)

[ "$ext" = "Kib" ] && MB=$(echo "$val / 8 / 0.9536743 / 1024" | bc -l)
[ "$ext" = "KiB" ] && MB=$(echo "$val / 0.9536743 / 1024" | bc -l)
[ "$ext" = "Kb" ] && MB=$(echo "$val / 8 / 1024" | bc -l)
[ "$ext" = "KB" ] && MB=$(echo "$val / 1024" | bc -l)

[ "$ext" = "Mib" ] && MB=$(echo "$val / 8 / 0.9536743" | bc -l)
[ "$ext" = "MiB" ] && MB=$(echo "$val / 0.9536743" | bc -l)
[ "$ext" = "Mb" ] && MB=$(echo "$val / 8" | bc -l)
[ "$ext" = "MB" ] && MB=$val

[ "$ext" = "Gib" ] && MB=$(echo "$val / 8 / 0.9536743 * 1024" | bc -l)
[ "$ext" = "GiB" ] && MB=$(echo "$val / 0.9536743 * 1024" | bc -l)
[ "$ext" = "Gb" ] && MB=$(echo "$val / 8 * 1024" | bc -l)
[ "$ext" = "GB" ] && MB=$(echo "$val * 1024" | bc -l)

[ "$ext" = "Tib" ] && MB=$(echo "$val / 8 / 0.9536743 * 1024 * 1024" | bc -l)
[ "$ext" = "TiB" ] && MB=$(echo "$val / 0.9536743 * 1024 * 1024" | bc -l)
[ "$ext" = "Tb" ] && MB=$(echo "$val / 8 * 1024 * 1024" | bc -l)
[ "$ext" = "TB" ] && MB=$(echo "$val * 1024 * 1024" | bc -l)

[ "$ext" = "Pib" ] && MB=$(echo "$val / 8 / 0.9536743 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "PiB" ] && MB=$(echo "$val / 0.9536743 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "Pb" ] && MB=$(echo "$val / 8 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "PB" ] && MB=$(echo "$val * 1024 * 1024 * 1024" | bc -l)

[ "$ext" = "Eib" ] && MB=$(echo "$val / 8 / 0.9536743 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "EiB" ] && MB=$(echo "$val / 0.9536743 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "Eb" ] && MB=$(echo "$val / 8 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "EB" ] && MB=$(echo "$val * 1024 * 1024 * 1024 * 1024" | bc -l)

[ "$ext" = "Zib" ] && MB=$(echo "$val / 8 / 0.9536743 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "ZiB" ] && MB=$(echo "$val / 0.9536743 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "Zb" ] && MB=$(echo "$val / 8 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "ZB" ] && MB=$(echo "$val * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)

[ "$ext" = "Yib" ] && MB=$(echo "$val / 8 / 0.9536743 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "YiB" ] && MB=$(echo "$val / 0.9536743 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "Yb" ] && MB=$(echo "$val / 8 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "YB" ] && MB=$(echo "$val * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)

[ "$ext" = "Bib" ] && MB=$(echo "$val / 8 / 0.9536743 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "BiB" ] && MB=$(echo "$val / 0.9536743 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "Bb" ] && MB=$(echo "$val / 8 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
[ "$ext" = "BB" ] && MB=$(echo "$val * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)

if [ "$ext" = "GebiBit" ] || [ "$ext" = "Gebibit" ] || [ "$ext" = "gebiBit" ] || [ "$ext" = "gebibit" ]; then
  MB=$(echo "$val / 8 / 0.9536743 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
fi
if [ "$ext" = "GebiByte" ] || [ "$ext" = "Gebibyte" ] || [ "$ext" = "gebiByte" ] || [ "$ext" = "gebibyte" ]; then
  MB=$(echo "$val / 0.9536743 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
fi
if [ "$ext" = "GeopBit" ] || [ "$ext" = "Geopbit" ] || [ "$ext" = "geopBit" ] || [ "$ext" = "geopbit" ]; then
  MB=$(echo "$val / 8 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
fi
if [ "$ext" = "GeopByte" ] || [ "$ext" = "Geopbyte" ] || [ "$ext" = "geopByte" ] || [ "$ext" = "geopbyte" ]; then
  MB=$(echo "$val * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024" | bc -l)
fi


echo -e "\n  -> $(echo "$MB * 8 * 1024 * 1024" | bc -l) b (Bits)"
echo -e "  -> $(echo "$MB * 1024 * 1024" | bc -l) B (Bytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 * 1024" | bc -l) Kib (KibiBits)"
echo "  -> $(echo "$MB * 0.9536743 * 1024" | bc -l) KiB (KibiBytes)"
echo "  -> $(echo "$MB * 8 * 1024" | bc -l) Kb (KiloBits)"
echo -e "  -> $(echo "$MB * 1024" | bc -l) KB (KiloBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743" | bc -l) Mib (MebiBits)"
echo "  -> $(echo "$MB * 0.9536743" | bc -l) MiB (MebiBytes)"
echo "  -> $(echo "$MB * 8" | bc -l) Mb (MegaBits)"
echo -e "  -> $MB MB (MegaBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 / 1024" | bc -l) Gib (GibiBits)"
echo "  -> $(echo "$MB * 0.9536743 / 1024" | bc -l) GiB (GibiBytes)"
echo "  -> $(echo "$MB * 8 / 1024" | bc -l) Gb (GigaBits)"
echo -e "  -> $(echo "$MB / 1024" | bc -l) GB (GigaBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 / 1024 / 1024" | bc -l) Tib (TebiBits)"
echo "  -> $(echo "$MB * 0.9536743 / 1024 / 1024" | bc -l) TiB (TebiBytes)"
echo "  -> $(echo "$MB * 8 / 1024 / 1024" | bc -l) Tb (TeraBits)"
echo -e "  -> $(echo "$MB / 1024 / 1024" | bc -l) TB (TeraBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 / 1024 / 1024 / 1024" | bc -l) Pib (PebiBits)"
echo "  -> $(echo "$MB * 0.9536743 / 1024 / 1024 / 1024" | bc -l) PiB (PebiBytes)"
echo "  -> $(echo "$MB * 8 / 1024 / 1024 / 1024" | bc -l) Pb (PetaBits)"
echo -e "  -> $(echo "$MB / 1024 / 1024 / 1024" | bc -l) PB (PetaBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 / 1024 / 1024 / 1024 / 1024" | bc -l) Eib (ExbiBits)"
echo "  -> $(echo "$MB * 0.9536743 / 1024 / 1024 / 1024 / 1024" | bc -l) EiB (ExbiBytes)"
echo "  -> $(echo "$MB * 8 / 1024 / 1024 / 1024 / 1024" | bc -l) Eb (ExaBits)"
echo -e "  -> $(echo "$MB / 1024 / 1024 / 1024 / 1024" | bc -l) EB (ExaBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) Zib (ZebiBits)"
echo "  -> $(echo "$MB * 0.9536743 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) ZiB (ZebiBytes)"
echo "  -> $(echo "$MB * 8 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) Zb (ZetaBits)"
echo -e "  -> $(echo "$MB / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) ZB (ZetaBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) Yib (YobiBits)"
echo "  -> $(echo "$MB * 0.9536743 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) YiB (YobiBytes)"
echo "  -> $(echo "$MB * 8 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) Yb (YottaBits)"
echo -e "  -> $(echo "$MB / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) YB (YottaBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) Bib (-)"
echo "  -> $(echo "$MB * 0.9536743 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) BiB (-)"
echo "  -> $(echo "$MB * 8 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) Bb (BrontoBits)"
echo -e "  -> $(echo "$MB / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) BB (BrontoBytes)\n"

echo "  -> $(echo "$MB * 8 * 0.9536743 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) GebiBit"
echo "  -> $(echo "$MB * 0.9536743 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) GebiByte"
echo "  -> $(echo "$MB * 8 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) GeopBit"
echo -e "  -> $(echo "$MB / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024 / 1024" | bc -l) GeopByte\n"
